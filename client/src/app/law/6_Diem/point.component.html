<section class="router-outlet-content">
  <div class="row">
    <div class="col-md-12 col-12">
      <div class="page-name">Điểm</div>
      <hr>
    </div>
    <div class="col-md-12 col-12">
      <button class="btn-addnew" (click)="openAddDialog()">
        <span>{{ 'AddNew' }}</span>
      </button>
    </div>

    <div class="col-md-4 col-12 container-datagrid">
      <div>LawID</div>
      <kendo-combobox class="cbx-searchOption" [data]="LawFilter" [textField]="'Name'" [valueField]="'ID'"
        [popupSettings]="{animate: true, appendTo: 'component'}"
        [(ngModel)]="searchOption.LawID" [valuePrimitive]="true" [filterable]="true"
        (filterChange)="LawHandleFilter($event)" (valueChange)="onSearchChange()">
        <ng-template kendoDropDownListNoDataTemplate>{{'NoRecords' | translate}}</ng-template>
      </kendo-combobox>
    </div>

    <div class="col-md-4 col-12 container-datagrid">
      <div>ChapterID</div>
      <kendo-combobox class="cbx-searchOption" [data]="ChapterFilter" [textField]="'Name'" [valueField]="'ID'"
        [popupSettings]="{animate: true, appendTo: 'component'}"
        [(ngModel)]="searchOption.ChapterID" [valuePrimitive]="true" [filterable]="true"
        (filterChange)="ChapterHandleFilter($event)" (valueChange)="onSearchChange()">
        <ng-template kendoDropDownListNoDataTemplate>{{'NoRecords' | translate}}</ng-template>
      </kendo-combobox>
    </div>

    <div class="col-md-4 col-12 container-datagrid">
      <div>ChapterItemID</div>
      <kendo-combobox class="cbx-searchOption" [data]="ChapterItemFilter" [textField]="'Name'" [valueField]="'ID'"
        [popupSettings]="{animate: true, appendTo: 'component'}"
        [(ngModel)]="searchOption.ChapterItemID" [valuePrimitive]="true" [filterable]="true"
        (filterChange)="ChapterItemHandleFilter($event)" (valueChange)="onSearchChange()">
        <ng-template kendoDropDownListNoDataTemplate>{{'NoRecords' | translate}}</ng-template>
      </kendo-combobox>
    </div>

    <div class="col-md-4 col-12 container-datagrid">
      <div>ArticalID</div>
      <kendo-combobox class="cbx-searchOption" [data]="ArticalFilter" [textField]="'Name'" [valueField]="'ID'"
        [popupSettings]="{animate: true, appendTo: 'component'}"
        [(ngModel)]="searchOption.Artical" [valuePrimitive]="true" [filterable]="true"
        (filterChange)="ChapterItemHandleFilter($event)" (valueChange)="onSearchChange()">
        <ng-template kendoDropDownListNoDataTemplate>{{'NoRecords' | translate}}</ng-template>
      </kendo-combobox>
    </div>

    
    <div class="col-md-4 col-12 container-datagrid">
      <div>ClaustID</div>
      <kendo-combobox class="cbx-searchOption" [data]="ArticalFilter" [textField]="'Name'" [valueField]="'ID'"
        [popupSettings]="{animate: true, appendTo: 'component'}"
        [(ngModel)]="searchOption.ClaustID" [valuePrimitive]="true" [filterable]="true"
        (filterChange)="ChapterItemHandleFilter($event)" (valueChange)="onSearchChange()">
        <ng-template kendoDropDownListNoDataTemplate>{{'NoRecords' | translate}}</ng-template>
      </kendo-combobox>
    </div>

    <div class="col-md-12 col-12 container-datagrid">
      <kendo-grid [data]="dataGridGridDataResult" [selectable]="dataGridSelectableSettings"
        (pageChange)="onUserPageChange($event)" [pageSize]="dataGridPageSize" [skip]="dataGridSkip" [pageable]="true"
        [kendoGridSelectBy]="'ID'" [loading]="loading" [sortable]="dataGridSort" [sort]="dataGridSortByField"
        (sortChange)="onUserSortChange($event)" [filter]="dataGridState.filter" [filterable]="true"
        (dataStateChange)="onGridDataStateChange($event)">

        <kendo-grid-column [title]="'Function' " [width]="80" [headerClass]="{'headerCommon': true}">
          <ng-template kendoGridCellTemplate let-dataItem>
            <div class="btn-toolbar" role="toolbar">
              <div class="btn-group mr-2 g-btn g-btn-edit" role="group">
                <button kendoGridRemoveCommand (click)="openUpdateDialog(dataItem.ID)"
                  [iconClass]="'fa fa-window-restore'">
                </button>
              </div>
              <div class="btn-group mr-2 g-btn g-btn-delete" role="group">
                <button kendoGridRemoveCommand [iconClass]="'fa fa-ban'" (click)="onDeleteItem(dataItem.ID)">
                </button>
              </div>
            </div>
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column [field]="'ID'" [width]="50" [title]="ID"></kendo-grid-column>
        <kendo-grid-column [field]="'LawID'" [width]="90" [title]="LawID">
          <ng-template kendoGridCellTemplate let-dataItem>
            {{ appUtils.getNameByList(Law, dataItem.LawID) == ""? dataItem.LawID  : appUtils.getNameByList(Law, dataItem.LawID)
            }}
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column [field]="'ChapterID'" [width]="90" [title]="ChapterID">
          <ng-template kendoGridCellTemplate let-dataItem>
            {{ appUtils.getNameByList(Chapter, dataItem.ChapterID) == ""? dataItem.ChapterID  : appUtils.getNameByList(Chapter, dataItem.ChapterID)
            }}
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column [field]="'ChapterItemID'" [width]="90" [title]="ChapterItemID">
          <ng-template kendoGridCellTemplate let-dataItem>
            {{ appUtils.getNameByList(ChapterItem, dataItem.ChapterItemID) == ""? dataItem.ChapterItemID  : appUtils.getNameByList(ChapterItem, dataItem.ChapterItemID)       }}
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column [field]="'ArticalID'" [width]="90" [title]="ArticalID">
          <ng-template kendoGridCellTemplate let-dataItem>
            {{ appUtils.getNameByList(Artical, dataItem.ArticalID) == ""? dataItem.ArticalID  : appUtils.getNameByList(Artical, dataItem.ArticalID)       }}
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column [field]="'ClaustID'" [width]="90" [title]="ClaustID">
          <ng-template kendoGridCellTemplate let-dataItem>
            {{ appUtils.getNameByList(Artical, dataItem.ClaustID) == ""? dataItem.ClaustID  : appUtils.getNameByList(Artical, dataItem.ClaustID)       }}
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column [field]="'Title'" [width]="400" [title]="Title"> </kendo-grid-column>
        <kendo-grid-column [field]="'Content'" [width]="800" [title]="Content"> </kendo-grid-column>
      </kendo-grid>
    </div>
  </div>
</section>


<kendo-dialog *ngIf="DialogDetail" title="Chi tiết" (close)="onCloseDialog()">
  <div class="row">

    <div class="col-md-12 col-12">
      <div class="control">
        <label>
          <span [textContent]="'LawID'"></span>
        </label>
        <kendo-combobox [data]="LawFilter" [textField]="'Name'" [valueField]="'ID'" [popupSettings]="{animate: true, appendTo: 'component'}"
          [(ngModel)]="dataDetailItemtemp.LawID" [valuePrimitive]="true" [filterable]="true"
          (filterChange)="LawHandleFilter($event)" (valueChange)="onLawDetailChange()" >
          <ng-template kendoDropDownListNoDataTemplate>{{'NoRecords' | translate}}</ng-template>
        </kendo-combobox>
      </div>
    </div>

    <div class="col-md-12 col-12">
      <div class="control">
        <label>
          <span [textContent]="'ChapterID'"></span>
        </label>
        <kendo-combobox [data]="ChapterFilter" [textField]="'Name'" [valueField]="'ID'" [popupSettings]="{animate: true, appendTo: 'component'}"
          [(ngModel)]="dataDetailItemtemp.ChapterID" [valuePrimitive]="true" [filterable]="true"
          (filterChange)="ChapterHandleFilter($event)" (valueChange)="onLawDetailChange()">
          <ng-template kendoDropDownListNoDataTemplate>{{'NoRecords' | translate}}</ng-template>
        </kendo-combobox>
      </div>
    </div>

    <div class="col-md-12 col-12">
      <div class="control">
        <label>
          <span [textContent]="'Name'"></span>
        </label>
        <textarea kendoTextArea [(ngModel)]="dataDetailItemtemp.Name" [rows]="3"></textarea>
      </div>
    </div>

    <div class="col-md-12 col-12">
      <div class="control">
        <label>
          <span [textContent]="'Title'"></span>
        </label>
        <textarea kendoTextArea [(ngModel)]="dataDetailItemtemp.Title" [rows]="15"></textarea>
      </div>
    </div>


    <div class="col-md-12 col-12">
      <div class="btn-dialog-wrapper">
        <button *ngIf="dataDetailItem.ID == null" class="btn-dialog btn-save" (click)="onAddItem()">
          {{'Tạo mới'}}
        </button>
        <button *ngIf="dataDetailItem.ID != null" class="btn-dialog btn-save" (click)="onUpdateItem()">{{'Lưu'}}
        </button>
      </div>
    </div>

  </div>
</kendo-dialog>